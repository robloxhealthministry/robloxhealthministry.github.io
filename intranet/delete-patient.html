<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Delete Patient - Roblox Health Service</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="../assets/css/nhsuk.min.css">
<style>
.actions { margin-top:1rem; }
.actions a, .actions button { margin-right:0.5rem; }
</style>
</head>
<body class="nhsuk-body nhsuk-clearfix">
<header class="nhsuk-header">
<div class="nhsuk-width-container nhsuk-header__container">
<span class="nhsuk-header__logo-text">Roblox Health Service</span>
<nav class="nhsuk-header__navigation" aria-label="Primary navigation">
<ul class="nhsuk-header__navigation-list">
<li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="dashboard.html">Dashboard</a></li>
<li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="patients.html">Patients</a></li>
<li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="add-patient.html">Add Patient</a></li>
<li class="nhsuk-header__navigation-item"><a class="nhsuk-header__navigation-link" href="login.html">Logout</a></li>
</ul>
</nav>
</div>
</header>

<div class="nhsuk-width-container">
<main class="nhsuk-main-wrapper">
<h1 class="nhsuk-heading-xl">Delete Patient</h1>
<p class="nhsuk-body-l" id="patientInfo"></p>
<div class="actions">
  <button class="nhsuk-button nhsuk-button--warning" id="confirmDelete">Yes, Delete</button>
  <a class="nhsuk-button nhsuk-button--secondary" href="patients.html">Cancel</a>
</div>

<script>
const urlParams=new URLSearchParams(window.location.search);
const index=urlParams.get('index');
const patients=JSON.parse(localStorage.getItem('patients')||'[]');
if(!patients[index]) window.location.href='patients.html';
const p=patients[index];
document.getElementById('patientInfo').textContent=
`Patient Name: ${p.name} | Room: ${p.room} | Status: ${p.status}`;

document.getElementById('confirmDelete').addEventListener('click',()=>{
  patients.splice(index,1);
  localStorage.setItem('patients', JSON.stringify(patients));
  window.location.href='patients.html';
});
</script>
</main>
</div>

<footer class="nhsuk-footer">
<div class="nhsuk-width-container">
<p class="nhsuk-body-s">Â© Roblox Health Service</p>
</div>
</footer>
</body>
</html>
